{"version":3,"file":"index.js","sources":["../src/js/weatherAPI.js","../src/js/render.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\nimport { refs, query } from '../main';\n\nconst API_KEY = 'f1fbcd3bf9d191b55c2bb9d6bb99db04';\nconst myAxios = axios.create({\n  baseURL: 'https://api.openweathermap.org/data/2.5/weather',\n});\n\nexport async function getWeather() {\n  const params = {\n    appid: API_KEY,\n    q: query,\n    units: 'metric',\n  };\n\n  const response = await myAxios.get('', { params });\n  return response.data;\n}\n","import { refs } from '../main.js';\n\nexport function render(data) {\n  refs.weatherContainer.classList.add('show');\n  refs.cityName.innerHTML = data.name;\n  refs.temperature.innerHTML = Math.round(data.main.temp) + 'Â°C';\n  refs.humidity.innerHTML = data.main.humidity + '%';\n  refs.windSpeed.innerHTML = data.wind.speed + ' Km/h';\n\n  switch (data.weather[0].main) {\n    case 'Clouds':\n      refs.weatherIcon.src = './src/img/clouds.png';\n      break;\n    case 'Drizzle':\n      refs.weatherIcon.src = './img/drizzle.png';\n      break;\n    case 'Mist':\n      refs.weatherIcon.src = './img/mist.png';\n      break;\n    case 'Snow':\n      refs.weatherIcon.src = './img/snow.png';\n      break;\n    case 'Rain':\n      refs.weatherIcon.src = './img/rain.png';\n      break;\n    default:\n      refs.weatherIcon.src = './img/clear.png';\n  }\n}\n","import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { getWeather } from './js/weatherAPI';\nimport { render } from './js/render';\n\nexport const refs = {\n  form: document.querySelector('form'),\n  searchInput: document.getElementById('query'),\n  searchBtn: document.querySelector('button'),\n  weatherContainer: document.querySelector('.weather-container'),\n  weatherIcon: document.querySelector('.weather-icon'),\n  weatherDescription: document.querySelector('.description'),\n  cityName: document.querySelector('.city'),\n  temperature: document.querySelector('.temperature'),\n  humidity: document.querySelector('.humidity'),\n  windSpeed: document.querySelector('.wind'),\n};\n\nexport let query = '';\n\nrefs.form.addEventListener('submit', handleSubmit);\n\nasync function handleSubmit(event) {\n  event.preventDefault();\n  query = refs.searchInput.value.trim();\n  if (query !== '') {\n    try {\n      const data = await getWeather(query);\n      render(data);\n    } catch (error) {\n      console.log(error);\n      displayError('Invalid city name');\n    }\n  } else {\n    displayError('Empty field!');\n  }\n  refs.form.reset();\n}\n\nfunction displayError(message) {\n  iziToast.error({\n    title: 'Error',\n    message: message,\n    backgroundColor: 'red',\n    position: 'topCenter',\n    timeout: 2000,\n    maxWidth: '300px',\n  });\n}\n"],"names":["API_KEY","myAxios","axios","getWeather","params","query","render","data","refs","handleSubmit","event","error","displayError","message","iziToast"],"mappings":"6vBAGA,MAAMA,EAAU,mCACVC,EAAUC,EAAM,OAAO,CAC3B,QAAS,iDACX,CAAC,EAEM,eAAeC,GAAa,CACjC,MAAMC,EAAS,CACb,MAAOJ,EACP,EAAGK,EACH,MAAO,QACX,EAGE,OADiB,MAAMJ,EAAQ,IAAI,GAAI,CAAE,OAAAG,CAAM,CAAE,GACjC,IAClB,CCfO,SAASE,EAAOC,EAAM,CAO3B,OANAC,EAAK,iBAAiB,UAAU,IAAI,MAAM,EAC1CA,EAAK,SAAS,UAAYD,EAAK,KAC/BC,EAAK,YAAY,UAAY,KAAK,MAAMD,EAAK,KAAK,IAAI,EAAI,KAC1DC,EAAK,SAAS,UAAYD,EAAK,KAAK,SAAW,IAC/CC,EAAK,UAAU,UAAYD,EAAK,KAAK,MAAQ,QAErCA,EAAK,QAAQ,CAAC,EAAE,KAAI,CAC1B,IAAK,SACHC,EAAK,YAAY,IAAM,uBACvB,MACF,IAAK,UACHA,EAAK,YAAY,IAAM,oBACvB,MACF,IAAK,OACHA,EAAK,YAAY,IAAM,iBACvB,MACF,IAAK,OACHA,EAAK,YAAY,IAAM,iBACvB,MACF,IAAK,OACHA,EAAK,YAAY,IAAM,iBACvB,MACF,QACEA,EAAK,YAAY,IAAM,iBAC1B,CACH,CCtBO,MAAMA,EAAO,CAClB,KAAM,SAAS,cAAc,MAAM,EACnC,YAAa,SAAS,eAAe,OAAO,EAC5C,UAAW,SAAS,cAAc,QAAQ,EAC1C,iBAAkB,SAAS,cAAc,oBAAoB,EAC7D,YAAa,SAAS,cAAc,eAAe,EACnD,mBAAoB,SAAS,cAAc,cAAc,EACzD,SAAU,SAAS,cAAc,OAAO,EACxC,YAAa,SAAS,cAAc,cAAc,EAClD,SAAU,SAAS,cAAc,WAAW,EAC5C,UAAW,SAAS,cAAc,OAAO,CAC3C,EAEO,IAAIH,EAAQ,GAEnBG,EAAK,KAAK,iBAAiB,SAAUC,CAAY,EAEjD,eAAeA,EAAaC,EAAO,CAGjC,GAFAA,EAAM,eAAc,EACpBL,EAAQG,EAAK,YAAY,MAAM,KAAI,EAC/BH,IAAU,GACZ,GAAI,CACF,MAAME,EAAO,MAAMJ,EAAWE,CAAK,EACnCC,EAAOC,CAAI,CACZ,OAAQI,EAAO,CACd,QAAQ,IAAIA,CAAK,EACjBC,EAAa,mBAAmB,CACjC,MAEDA,EAAa,cAAc,EAE7BJ,EAAK,KAAK,OACZ,CAEA,SAASI,EAAaC,EAAS,CAC7BC,EAAS,MAAM,CACb,MAAO,QACP,QAASD,EACT,gBAAiB,MACjB,SAAU,YACV,QAAS,IACT,SAAU,OACd,CAAG,CACH"}