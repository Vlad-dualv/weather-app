{"version":3,"file":"index.js","sources":["../src/js/weatherAPI.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\nimport { refs, query } from '../main';\n\nconst API_KEY = 'f1fbcd3bf9d191b55c2bb9d6bb99db04';\nconst myAxios = axios.create({\n  baseURL: 'https://api.openweathermap.org/data/2.5/weather',\n});\n\nexport async function getWeather() {\n  const params = {\n    appid: API_KEY,\n    q: query,\n    units: 'metric',\n  };\n\n  const response = await myAxios.get('', { params });\n  return response.data;\n}\n","import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { getWeather } from './js/weatherAPI';\n//import { render } from './js/render';\n\nexport const refs = {\n  form: document.querySelector('form'),\n  searchInput: document.getElementById('query'),\n  searchBtn: document.querySelector('button'),\n  weatherContainer: document.querySelector('.weather-container'),\n  weatherIcon: document.querySelector('.weather-icon'),\n  weatherDescription: document.querySelector('.description'),\n  cityName: document.querySelector('.city'),\n  temperature: document.querySelector('.temperature'),\n  humidity: document.querySelector('.humidity'),\n  windSpeed: document.querySelector('.wind'),\n};\n\nexport let query = '';\n\nrefs.form.addEventListener('submit', handleSubmit);\n\nasync function handleSubmit(event) {\n  event.preventDefault();\n  query = refs.searchInput.value.trim();\n  if (query !== '') {\n    try {\n      const data = await getWeather(query);\n      render(data);\n    } catch (error) {\n      console.log(error);\n      displayError('Invalid city name');\n    }\n  } else {\n    displayError('Empty field!');\n  }\n  refs.form.reset();\n}\n\n/*---------*/\n\nfunction render(data) {\n  refs.weatherContainer.classList.add('show');\n  refs.cityName.innerHTML = data.name;\n  refs.temperature.innerHTML = Math.round(data.main.temp) + 'Â°C';\n  refs.humidity.innerHTML = data.main.humidity + '%';\n  refs.windSpeed.innerHTML = data.wind.speed + ' Km/h';\n\n  switch (data.weather[0].main) {\n    case 'Clouds':\n      refs.weatherIcon.src = './img/clouds.png';\n      break;\n    case 'Drizzle':\n      refs.weatherIcon.src = './img/drizzle.png';\n      break;\n    case 'Mist':\n      refs.weatherIcon.src = './img/mist.png';\n      break;\n    case 'Snow':\n      refs.weatherIcon.src = './img/snow.png';\n      break;\n    case 'Rain':\n      refs.weatherIcon.src = './img/rain.png';\n      break;\n    default:\n      refs.weatherIcon.src = './img/clear.png';\n  }\n}\n\n/*---------*/\n\nfunction displayError(message) {\n  iziToast.error({\n    title: 'Error',\n    message: message,\n    backgroundColor: 'red',\n    position: 'topCenter',\n    timeout: 2000,\n    maxWidth: '300px',\n  });\n}\n"],"names":["API_KEY","myAxios","axios","getWeather","params","query","refs","handleSubmit","event","data","render","error","displayError","message","iziToast"],"mappings":"6vBAGA,MAAMA,EAAU,mCACVC,EAAUC,EAAM,OAAO,CAC3B,QAAS,iDACX,CAAC,EAEM,eAAeC,GAAa,CACjC,MAAMC,EAAS,CACb,MAAOJ,EACP,EAAGK,EACH,MAAO,QACX,EAGE,OADiB,MAAMJ,EAAQ,IAAI,GAAI,CAAE,OAAAG,CAAM,CAAE,GACjC,IAClB,CCXO,MAAME,EAAO,CAClB,KAAM,SAAS,cAAc,MAAM,EACnC,YAAa,SAAS,eAAe,OAAO,EAC5C,UAAW,SAAS,cAAc,QAAQ,EAC1C,iBAAkB,SAAS,cAAc,oBAAoB,EAC7D,YAAa,SAAS,cAAc,eAAe,EACnD,mBAAoB,SAAS,cAAc,cAAc,EACzD,SAAU,SAAS,cAAc,OAAO,EACxC,YAAa,SAAS,cAAc,cAAc,EAClD,SAAU,SAAS,cAAc,WAAW,EAC5C,UAAW,SAAS,cAAc,OAAO,CAC3C,EAEO,IAAID,EAAQ,GAEnBC,EAAK,KAAK,iBAAiB,SAAUC,CAAY,EAEjD,eAAeA,EAAaC,EAAO,CAGjC,GAFAA,EAAM,eAAc,EACpBH,EAAQC,EAAK,YAAY,MAAM,KAAI,EAC/BD,IAAU,GACZ,GAAI,CACF,MAAMI,EAAO,MAAMN,EAAWE,CAAK,EACnCK,EAAOD,CAAI,CACZ,OAAQE,EAAO,CACd,QAAQ,IAAIA,CAAK,EACjBC,EAAa,mBAAmB,CACjC,MAEDA,EAAa,cAAc,EAE7BN,EAAK,KAAK,OACZ,CAIA,SAASI,EAAOD,EAAM,CAOpB,OANAH,EAAK,iBAAiB,UAAU,IAAI,MAAM,EAC1CA,EAAK,SAAS,UAAYG,EAAK,KAC/BH,EAAK,YAAY,UAAY,KAAK,MAAMG,EAAK,KAAK,IAAI,EAAI,KAC1DH,EAAK,SAAS,UAAYG,EAAK,KAAK,SAAW,IAC/CH,EAAK,UAAU,UAAYG,EAAK,KAAK,MAAQ,QAErCA,EAAK,QAAQ,CAAC,EAAE,KAAI,CAC1B,IAAK,SACHH,EAAK,YAAY,IAAM,mBACvB,MACF,IAAK,UACHA,EAAK,YAAY,IAAM,oBACvB,MACF,IAAK,OACHA,EAAK,YAAY,IAAM,iBACvB,MACF,IAAK,OACHA,EAAK,YAAY,IAAM,iBACvB,MACF,IAAK,OACHA,EAAK,YAAY,IAAM,iBACvB,MACF,QACEA,EAAK,YAAY,IAAM,iBAC1B,CACH,CAIA,SAASM,EAAaC,EAAS,CAC7BC,EAAS,MAAM,CACb,MAAO,QACP,QAASD,EACT,gBAAiB,MACjB,SAAU,YACV,QAAS,IACT,SAAU,OACd,CAAG,CACH"}